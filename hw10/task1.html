<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
</head>
<body>
	<h1> Задача 1</h1>
	<p>
		Дано історію цін на цінні папери за деякий період (згенерувати від 1 до 10000)
		
	</p>
	<script>
		function gerRandomNumber(minNumber, maxNumber) {
			return array = new Array(10).fill().map(element => 
			element = minNumber + Math.floor(Math.random()*(maxNumber - minNumber + 1)))
		}
		const priceHistoryArr = gerRandomNumber(1, 10000)

//---------------1.Сформувати новий масив, у якому є тільки ті, що більші за 1000 грн.

		const numbersMoreThanThousand = priceHistoryArr.filter(number => number > 1000)


//--------------2.Сформувати новий масив, у якому є номери тільки тих, що більші за 1000 грн.

		let indexOfNumbersMoreThanThousand = priceHistoryArr.reduce(
			(prevparametr, element, index) =>{
			if (element > 1000) return [...prevparametr, index+1]
			return prevparametr 
			},[]) 

//--------------3.Сформувати список з тих цін, які більші за попереднє значення

		let arrOfNumbersBiggerThanPrevious = priceHistoryArr.sort((element1, element2) => element1 - element2)
		
//--------------4.Сформувати новий масив, що міститиме значення цін у відсотках стосовно максимального

		let maxValue = Math.max(...priceHistoryArr)
		let priceInPercentage = priceHistoryArr.map(element => Math.round((element / maxValue) * 100))
		
//---------------5.Підрахувати кількість змін цін

		let counter = 0
		let priceChangesAmount = priceHistoryArr.reduce((prevPrice, price) =>
			counter++, priceHistoryArr[0])

//-------------  6. Визначити, чи є ціна, що менше 1000

		let priceLessThanThousand = priceHistoryArr.some((element) => element < 1000)

//--------------7.Визначати, чи усі ціни більше за 1000

		let priceMoreThanThousand = priceHistoryArr.every((element) => element > 1000)

//------------- 8.Підрахувати кількість цін, що більше за 1000

		let amountOfPricesMoreThanThousand = priceHistoryArr.reduce((prevPrice, price) =>
		price > 1000 ? prevPrice+1 : prevPrice ,0)

//---------------9.Підрахувати суму цін, що більше за 1000

		let sumOfPricesMoreThanThousand = priceHistoryArr.reduce((prevSum, price) =>
		price > 1000 ? prevSum + price : prevSum , 0
		)

//--------------  10.Знайти першу ціну, що більше за 1000

			let firstPriceMoreThanThousand = priceHistoryArr.find((element) => element > 1000)

//--------------- 11.Знайти індекс першої ціни, що більше за 1000		

			let firstPriceIndexMoreThanThousand = priceHistoryArr.findIndex((element) => element > 1000)

//----------------- 12.Знайти останню ціну, що більше за 1000

			let lastPriceMoreThanThousand = priceHistoryArr.findLast((element) => element > 1000)

//------------------13.Знайти індекс останньої ціни, що більше за 1000

			let lastPriceIndexMoreThanThousand = priceHistoryArr.findLastIndex((element) => element > 1000)



		document.write(`
		Історія цін = ${priceHistoryArr}<br>
		1.Масив, у якому є тільки ті, що більші за 1000 грн. = ${numbersMoreThanThousand}<br>
		2.Масив, у якому є номери тільки тих, що більші за 1000 грн. = ${indexOfNumbersMoreThanThousand}<br>
		3.Список з тих цін, які більші за попереднє значення = ${arrOfNumbersBiggerThanPrevious}<br>
		4.Масив, що містить значення цін у відсотках стосовно максимального = ${priceInPercentage}<br>
		5.Кількість змін цін = ${priceChangesAmount}<br>
		6.Ціна, що менше 1000 = ${priceLessThanThousand}<br>
		6.Чи усі ціни, більше за 1000 = ${priceMoreThanThousand}<br>
		7.Кількість цін, що більше за 1000 = ${amountOfPricesMoreThanThousand}<br>
		8.Сума цін, що більше за 1000 = ${sumOfPricesMoreThanThousand}<br>
		9.Перша ціна, що більше за 1000 = ${firstPriceMoreThanThousand}<br>
		10.Індекс першої ціни, що більше за 1000 = ${firstPriceIndexMoreThanThousand}<br>
		11.Остання ціна, що більше за 1000 = ${lastPriceMoreThanThousand}<br>
		12.Індекс останньої ціни, що більше за 1000 = ${lastPriceIndexMoreThanThousand}

		`)
	</script>
</body>

</html>

